<!DOCTYPE html>
<html>
<head>
    <title>Настройки</title>
    <style>
        .preview-box {
            padding: 20px;
            margin: 20px 0;
            border: 1px solid #ccc;
        }
    </style>
    <link href="/css/main.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.min.js" integrity="sha384-VQqxDN0EQCkWoxt/0vsQvZswzTHUVOImccYmSyhJTp7kGtPed0Qcx8rK9h9YEgx+" crossorigin="anonymous"></script>
</head>
<body>
<%-include('navbar')%>
<div class="container-fluid">
<h1>Настройки отображения</h1>

<form method="POST" action="/settings">
    <div class="form-group">
        <label>Шрифт:
            <select name="font">
                <% availableFonts.forEach(font => { %>
                    <option value="<%= font %>"
                            <%= currentSettings.font === font ? 'selected' : '' %>>
                        <%= font %>
                    </option>
                <% }); %>
            </select>
        </label>
    </div>

    <div class="form-group">
        <label>Цветовая тема:
            <select name="theme">
                <% colorThemes.forEach(theme => { %>
                    <option value="<%= theme %>"
                            <%= currentSettings.theme === theme ? 'selected' : '' %>>
                        <%= theme %>
                    </option>
                <% }); %>
            </select>
        </label>
    </div>

    <div class="form-group">
        <label>Основной цвет:
            <input type="color" name="primaryColor"
                   value="<%= currentSettings.primaryColor %>">
        </label>
    </div>

    <button type="submit">Сохранить</button>
</form>

<div class="preview-box" style="font-family: <%= currentSettings.font %>;
        background: <%= currentSettings.theme === 'dark' ? '#333' : '#fff' %>;
        color: <%= currentSettings.theme === 'dark' ? '#fff' : '#333' %>">
    <h3>Пример текста</h3>
    <p>Это предпросмотр выбранных настроек</p>
</div>
</div>
</body>
</html>